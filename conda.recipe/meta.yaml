# Note that this file is in a separate directory. If I put in on the root
# directory, the resulting package will include all other files instead of
# the source files only.

{% set name = "timeflux" %}
{% set version = "0.4" %}
{% set tag = "v0.4" %}

package:
  name: "{{ name | lower }}"
  version: "{{ version }}"

source:
  git_url:  https://github.com/timeflux/timeflux.git
  git_tag: "{{ tag }}"

requirements:
  build:
    - python>=3.7,<3.8
    - setuptools

  run:
    - python>=3.7,<3.8
    - networkx>=2.4
    - pyyaml>=5.1
    - numpy>=1.17
    - pandas>=0.25
    - xarray>=0.14
    - bottleneck>=1.3
    - scipy>=1.3
    - pyzmq>=18.1
    - coloredlogs>=10.0
    - pytables>=3.6
    - jsonschema>=3.0
    # - python-dotenv>=0.10  # MISSING due to being in conda-forge
    - pytest>=5.3
    - sphinx>=2.2
    - sphinx_rtd_theme>=0.4
    - python-graphviz>=0.13
    # MISSING DUE TO BEING IN PIP:
    # - pylsl>=1.13.1
    # - python-osc>=1.7.0

test:
  # We will re-activate this later
  #  source_files:
  #    - tests/*
  requires:
    - pytest>=5.3
  #    - pytest-mock
  #  commands:
  #    - py.test tests
  imports:
    - timeflux
    - timeflux.core
    - timeflux.nodes
    - timeflux.helpers

build:
  noarch: python
  script: python setup.py install --single-version-externally-managed --record=record.txt

extra:
  maintainers:
    - contact@timeflux.io

about:
  home: https://timeflux.io
  summary: "Timeflux: acquisition and real-time processing of biosignals."
  license_file: LICENSE
